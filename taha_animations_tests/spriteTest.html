<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>

    <script>
    var config = {
        type: Phaser.AUTO,
        width: 1920,
        height: 1080,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 200 }
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var game = new Phaser.Game(config);

    function preload ()
    {
        this.load.spritesheet('planet', 'bigPlanet.png',{frameWidth: 250, frameHeight: 250});        
        this.load.image('space', 'Space Background2.png');
        this.load.spritesheet('missile', 'missile_flying.png',{frameWidth: 141, frameHeight: 517});
        this.load.image('stationary_missile', 'missle.png')

        
        
    }

    var button

    function create ()
    {
        this.add.image(960, 540, 'space');


        // this.add.sprite(960, 540, "planet");
        

        button = game.add.button(960, 540, 'button', actionOnClick, this, 2, 1, 0)

        this.anims.create({
            key: "animat",
            frames: this.anims.generateFrameNumbers('planet'),
            frameRate: 7,
            repeat: -1
        })

        this.anims.create({
            key: "rocket",
            frames: this.anims.generateFrameNumbers('missile'),
            frameRate: 10,
            repeat: -1
        })

        plan = this.add.sprite(960,1400).setScale(5);
        plan.angle = 0
        plan.play('animat');

        rock = this.add.sprite(960,600).setScale(0.5);
        rock.angle = 0
        rock.play('rocket')
        

        this.cursors = this.input.keyboard.addKeys('LEFT,RIGHT,UP,DOWN');
    }

    function update()
    {

        if(this.cursors.DOWN.isDown){

        }
        if(this.cursors.RIGHT.isDown && this.cursors.UP.isDown){
            plan.play('animat', false)
            rock.angle = 45
            rock.x += 5
            rock.y += -5
        }
        else if(this.cursors.RIGHT.isDown && this.cursors.DOWN.isDown){
            rock.angle = 135
            rock.x +=5
            rock.y += 5
        }
        else if(this.cursors.LEFT.isDown && this.cursors.UP.isDown){
            rock.angle = -45
            rock.x += -5
            rock.y += -5
        }
        else if(this.cursors.LEFT.isDown && this.cursors.DOWN.isDown){
            rock.angle = -135
            rock.x += -5
            rock.y += 5
        } 
        else if(this.cursors.RIGHT.isDown){
            rock.angle = 90
            rock.x += 5
        }
        else if(this.cursors.LEFT.isDown){
            rock.angle = -90
            rock.x += -5
        }
        else if(this.cursors.UP.isDown){
            rock.angle = 0
            rock.y += -5
        }
        else if(this.cursors.DOWN.isDown){
            rock.angle = 180
            rock.y += +5
        }

    }


    </script>

</body>
</html>